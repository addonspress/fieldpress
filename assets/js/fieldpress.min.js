!function(e,t,i,a){"use strict";var r=e(i),s=e("body"),l=e(t);"function"==typeof Color&&(Color.fn.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(e.length<6)for(var t=6-e.length-1;t>=0;t--)e="0"+e;return"#"+e});var n=function(e){var t=e.replace(/\s+/g,""),i=-1!==t.indexOf("rgba")?parseFloat(100*t.replace(/^.*,(.+)\)/,"$1")):100;return{value:t,alpha:i,rgba:i<100}};if("undefined"!=typeof google&&google&&google.maps)var d=function(){r.on("click",".fieldpress-show-map",function(t){t.preventDefault();var a,r=e(this),s=r.closest(".fieldpress-field.fieldpress-map"),l=s.find(".fieldpress-map-wrapper"),n=s.find(".fieldpress-map-holder"),d=n.data("lat"),o=n.data("long"),f=s.find(".fieldpress-address"),p=s.find(".fieldpress-search-map"),c=s.find(".fieldpress-find-map"),u=s.find(".fieldpress-map-lat-long"),h=parseInt(u.attr("zoom"));l.slideDown();var v=function(e){var t=new google.maps.Geocoder;setTimeout(function(){t.geocode({latLng:e},function(e){e&&e.length>0&&g(e[0].formatted_address)})},2e3)},g=function(e){f.show().text(e)},m=new google.maps.LatLng(d,o),b={zoom:h,center:m,mapTypeId:google.maps.MapTypeId.ROADMAP},w=new google.maps.Map(i.getElementById(n.attr("id")),b),y=new google.maps.Geocoder;a=new google.maps.Marker({map:w,draggable:!0,position:m}),google.maps.event.addListener(a,"dragend",function(e){var t=a.getPosition();w.panTo(t),v(t)}),google.maps.event.addListener(a,"drag",function(){y.geocode({latLng:a.getPosition()},function(e,t){t===google.maps.GeocoderStatus.OK&&e[0]&&(u.val(a.getPosition().lat()+","+a.getPosition().lng()),u.trigger("change"))})}),p.autocomplete({source:function(t,i){y.geocode({address:t.term},function(t,a){i(e.map(t,function(e){return{label:e.formatted_address,value:e.formatted_address}}))})}}),c.click(function(e){e.preventDefault();var t=p.val();y.geocode({address:t},function(e,t){t===google.maps.GeocoderStatus.OK?(w.setCenter(e[0].geometry.location),a.setPosition(e[0].geometry.location),u.val(a.getPosition().lat()+","+a.getPosition().lng()),v(a.getPosition()),w.setZoom(14)):alert("Geocode was not successful for the following reason: "+t)}),e.preventDefault()}),r.hide()}),r.on("click",".fieldpress-map-clear",function(t){t.preventDefault();var i=e(this).closest(".fieldpress-field.fieldpress-map"),a=i.find(".fieldpress-map-wrapper"),r=i.find(".fieldpress-map-holder"),s=i.find(".fieldpress-show-map");a.slideUp(),r.html(""),s.show()})};var o=function(t){var i=e("input:invalid").first().closest(".fieldpress-tabs-content-wrapper"),a=i.attr("id"),r=e(".fieldpress-main-tabs");if(!i.hasClass("hidden"))return!0;i.siblings(".fieldpress-tabs-content-wrapper").addClass("hidden"),i.removeClass("hidden"),r.find("li").each(function(){var t=e(this),i=t.children("a").attr("href").replace("#","");a===i&&(t.siblings("li").removeClass("active"),t.addClass("active"))})};r.on("click",".fieldpress-open-wysiwyg",function(t){t.preventDefault();var i=e(this).closest(".fieldpress-field.fieldpress-wysiwyg");f(i)});var f=function(a){var r=a,s=r.find(".fieldpress-open-wysiwyg"),l=r.find(".fieldpress-wysiwyg-textarea"),n=l.attr("id"),d=l.attr("mediaButtons"),o=l.attr("quicktags"),f=l.attr("plugins"),p=l.attr("toolbar1"),c=l.attr("block_formats");v(l)||function a(){var r,u,h,v=!1;if(i.getElementById(n)){if(tinymce.get(n)&&(v=tinymce.get(n).isHidden(),wp.editor.remove(n),tinymce.EditorManager.execCommand("mceRemoveEditor",!0,n)),wp.editor.initialize(n,{tinymce:{wpautop:!0,plugins:f,toolbar1:p,block_formats:c},mediaButtons:d,quicktags:o}),!(r=t.tinymce.get(n)))throw new Error("Failed to initialize editor");h=function(){e(r.getWin()).on("unload",function(){_.defer(a)}),v&&switchEditors.go(n,"toggle")},r.initialized?h():r.on("init",h),u=function(){r.isDirty()&&(wp.customize&&(wp.customize.state("processing").set(wp.customize.state("processing").get()+1),_.delay(function(){wp.customize.state("processing").set(wp.customize.state("processing").get()-1)},300)),r.save(),l.trigger("change"))},r.on("focus",function(){}),r.on("NodeChange",_.debounce(u,1e3)),r.on("blur",function(){u()}),s.hide()}}()},p=function(e){return e.attr("data-depth")},c=function(){var t,i,a,r,s,l,n;e(".fieldpress-repeater").sortable({placeholder:"fp-sortable-placeholder",items:"> .repeater-table",handle:"> .fieldpress-repeater-top > .fieldpress-repeater-title",cursor:"move",distance:2,containment:"#wpwrap",tolerance:"pointer",refreshPositions:!0,start:function(r,l){if(1===(t=l.item.closest(".fieldpress-repeater")).data("nested")){(s=t.attr("data-max-depth")?t.data("max-depth"):10)>10&&(s=10),i=l.item.children(".fs-repeater-transport"),a=p(l.item);var n=function(t,i){var a=e();return t.nextAll(".repeater-table").each(function(){var t=e(this);if(!(p(t)>i))return!1;a=a.add(t)}),a}(l.item.next()[0]==l.placeholder[0]?l.item.next():l.item,a);i.append(n);var d=i.outerHeight();d+=d>0?1*l.placeholder.css("margin-top").slice(0,-2):0;d+=l.helper.outerHeight();d-=2,l.placeholder.height(d),l.placeholder.detach(),e(this).sortable("refresh"),l.item.after(l.placeholder)}},sort:function(i,a){if(1===t.data("nested")){var d=function(e,t){return Math.floor(e/t)}(a.helper.offset().left-t.offset().left,32),o=a.placeholder.prev(".repeater-table");o.hasClass("ui-sortable-helper")&&(o=o.prev(".repeater-table"));var f=a.placeholder.next(".repeater-table");if(f.hasClass("ui-sortable-helper")&&(f=f.next(".repeater-table")),o.length){var c=[];r=d;var u=parseInt(p(o));if(f.length){var h=parseInt(p(f));h>u?c.push(u+1):(c.push(u),c.push(u+1),c.push(h))}else o.prevAll(".repeater-table").each(function(){var t=e(this),i=parseInt(p(t));if(0===i)return!1;c.push(i)}),c.push(0),c.push(u),c.push(u+1);l=Math.min.apply(Math,c),(n=Math.max.apply(Math,c))>s&&(n=s),r<l?r=l:r>n&&(r=n);var v=32*r;a.item.attr("data-depth",r),a.placeholder.css("margin-left",v)}else d=0,a.item.css("margin-left",0),a.placeholder.css("margin-left",0),r=0,a.item.attr("data-depth",r)}},update:function(t,i){i.item.find("[name]").each(function(){e(this).trigger("change")})},stop:function(l,n){if(1===t.data("nested")){var d,o=r-a;if(d=i.children().insertAfter(n.item),0!==o){var f=32*r;n.item.css("margin-left",f),d.each(function(){var t=e(this),i=parseInt(t.attr("data-depth"))+o;i<0?i=0:i>s&&(i=s);var a=32*i;t.css("margin-left",a),t.attr("data-depth",i)})}t.find(".repeater-table").each(function(t,i){var a=e(this),r=a.find(".fp-parent"),s=a.find(".fp-depth"),l=a.find(".fp-index"),n=parseInt(p(a));s.attr("data-index",t);var d=-1;a.prevAll(".repeater-table").each(function(){var t=e(this);if(parseInt(p(t))<n)return d=t.attr("data-index"),!1}),r.attr("value",d),s.attr("value",n),l.attr("value",t)}),t.find(".repeater-table").each(function(t,i){var a=e(this),r=a.find(".fp-parent"),s=a.find(".fp-depth"),l=a.find(".fp-index"),n=parseInt(p(a));a.attr("data-index",t);var d=-1;a.prevAll(".repeater-table").each(function(){var t=e(this);if(parseInt(p(t))<n)return d=t.attr("data-index"),!1}),r.attr("value",d),s.attr("value",n),l.attr("value",t)})}}})},u=function(e,t,i){var a=new RegExp(t,"g");return e.replace(a,i)},h=function(){var i,a,l,n,o,p,c;r.on("click",".fieldpress-image-uploader-open",function(t){t.preventDefault();var i,a=e(this),r=a.closest(".fieldpress-field.fieldpress-image"),s=r.find(".fieldpress-image-preview"),l=r.find("input"),n=r.find("img");"undefined"!=typeof wp&&wp.media&&wp.media.gallery&&(i?i.open():((i=wp.media({library:{type:"image"},title:a.data("upload"),button:{text:a.data("button-text")}})).on("open",function(){var e=l.val();if(e){var t=i.state().get("selection"),a=wp.media.attachment(e);t.add(a)}}),i.on("select",function(){var e=i.state().get("selection").first().toJSON(),t=void 0!==e.sizes.thumbnail?e.sizes.thumbnail.url:e.url;s.removeClass("hidden"),n.attr("src",t),l.val(e.id),l.trigger("change")}),i.open()))}),r.on("click",".fieldpress-clear",function(t){t.preventDefault();var i=e(this).closest(".fieldpress-field.fieldpress-image"),a=i.find(".fieldpress-image-preview");i.find("input").val(""),a.addClass("hidden")}),r.on("click",".fieldpress-gallery-uploader-open,.fieldpress-gallery-updater-open",function(t){t.preventDefault();var i,a=e(this),r=a.closest(".fieldpress-field.fieldpress-gallery"),s=r.find(".fieldpress-gallery-preview"),l=r.find(".fieldpress-gallery-uploader-open"),n=r.find(".fieldpress-gallery-updater-open"),d=r.find(".fieldpress-remove"),o=r.find("input"),f=a.hasClass("fieldpress-gallery-updater-open")?"gallery-edit":"gallery-library";"undefined"!=typeof wp&&wp.media&&wp.media.gallery&&((i=wp.media({library:{type:"image"},title:a.data("upload"),button:{text:a.data("button-text")},frame:"post",state:f,multiple:!0})).on("open",function(){var e=o.val();if(e){var t=e.split(","),a=i.state().get("library");t.forEach(function(e){var t=wp.media.attachment(e);t.fetch(),a.add(t?[t]:[])})}}),i.on("update",function(){var e="",t=[];i.state().get("library").each(function(i){var a=void 0!==(i=i.toJSON()).sizes.thumbnail?i.sizes.thumbnail.url:i.url;e+='<li><img src="'+a+'"></li>',t.push(i.id)}),o.val(t),s.html("").append(e),l.addClass("hidden"),s.removeClass("hidden"),n.removeClass("hidden"),d.removeClass("hidden"),o.trigger("change")}),i.open())}),r.on("click",".fieldpress-remove",function(t){t.preventDefault();var i=e(this),a=e(this).closest(".fieldpress-field.fieldpress-gallery"),r=a.find(".fieldpress-gallery-preview"),s=a.find(".fieldpress-gallery-updater-open"),l=a.find(".fieldpress-gallery-uploader-open");a.find("input").val(""),r.html(""),i.addClass("hidden"),s.addClass("hidden"),l.removeClass("hidden")}),r.on("click",".fieldpress-file-uploader-open",function(t){t.preventDefault();var i,a=e(this),r=a.closest(".fieldpress-field.fieldpress-file"),s=r.find(".fieldpress-file-preview-holder"),l=(r.find("img"),r.find(".fieldpress-file-title"),r.find(".fieldpress-file-name"),r.find(".fieldpress-file-size"),a.data("file-type")),n=a.data("button-text"),d=(a.data("title"),r.find("input")),o=d.data("multiple");o=""!==o,"undefined"!=typeof wp&&wp.media&&wp.media.gallery&&(i?i.open():((i=wp.media({library:{type:l},title:a.data("upload"),button:{text:a.data("button-text")},multiple:o})).on("open",function(){var e=d.val();if(e&&e){var t=e.split(","),a=i.state().get("selection");t.forEach(function(e){var t=wp.media.attachment(e);t.fetch(),a.add(t?[t]:[])})}}),i.on("select",function(){var e="";if(o){var t=[];i.state().get("selection").each(function(i){var a=(i=i.toJSON()).icon,r=i.title,s=i.filename,d=i.url,o=i.id,f=i.filesizeHumanReadable;e+='<div class="fieldpress-file-preview" data-value="'+o+'">',e+='<div class="fieldpress-file-wrap">',e+='<i class="dashicons dashicons-no fieldpress-file-clear"></i>',e+='<div class="fieldpress-icon-wrapper">',e+='<a data-file-type="'+l+'" data-button-text="'+n+'" data-title="'+r+'" href="#" class="fieldpress-file-uploader-open">',e+='<img src="'+a+'">',e+="</a>",e+="</div>",e+='<div class="fieldpress-file-details">',e+='<div class="fieldpress-file-title">'+r+"</div>",e+='<div class="fieldpress-file-name"><a class="fieldpress-file-link" href="'+d+'" target="_blank">'+s+"</a></div>",e+='<div class="fieldpress-file-size">'+f+"</div>",e+="</div>",e+="</div>",e+="</div>",t.push(i.id)}),s.removeClass("hidden"),s.html(e),d.val(t),d.trigger("change")}else{var a=i.state().get("selection").first().toJSON(),r=a.icon,f=a.title,p=a.filename,c=a.url,u=a.id,h=a.filesizeHumanReadable;e+='<div class="fieldpress-file-preview" data-value="'+u+'">',e+='<div class="fieldpress-file-wrap">',e+='<i class="dashicons dashicons-no fieldpress-file-clear"></i>',e+='<div class="fieldpress-icon-wrapper">',e+='<a data-file-type="'+l+'" data-button-text="'+n+'" data-title="'+f+'" href="#" class="fieldpress-file-uploader-open">',e+='<img src="'+r+'">',e+="</a>",e+="</div>",e+='<div class="fieldpress-file-details">',e+='<div class="fieldpress-file-title">'+f+"</div>",e+='<div class="fieldpress-file-name"><a class="fieldpress-file-link" href="'+c+'" target="_blank">'+p+"</a></div>",e+='<div class="fieldpress-file-size">'+h+"</div>",e+="</div>",e+="</div>",e+="</div>",s.removeClass("hidden"),s.html(e),d.val(u),d.trigger("change")}}),i.open()))}),r.on("click",".fieldpress-file-clear",function(t){t.preventDefault();var i=e(this),a=i.closest(".fieldpress-field.fieldpress-file"),r=i.closest(".fieldpress-file-preview"),s=r.data("value"),l=a.find("input"),n=[];l.val().split(",").forEach(function(e){s!=e&&n.push(e)}),l.val(n),r.remove()}),c=!1,r.on("click",".fieldpress-icon-selector-open",function(t){t.preventDefault(),i=e(this),a=i.closest(".fieldpress-field.fieldpress-icon"),l=a.find(".fieldpress-icon-preview"),n=i.next("input"),p=e("#fieldpress-icon-modal"),o=e("#fieldpress-select-icons-load"),p.removeClass("hidden"),c||(e.ajax({type:"POST",url:fieldpress.ajaxurl,data:{action:"fieldpress_select_icons"},success:function(e){o.html(e),c=!0}}),r.on("keyup","#fieldpress-icon-search",function(){var t=e(this).val();o.find("i").each(function(){var i=e(this);i.attr("class").search(t)>-1?i.parent(".single-icon").show():i.parent(".single-icon").hide()})})),o.on("click",".single-icon",function(t){t.preventDefault();var i=e(this).children("i").attr("class");p.addClass("hidden"),n.val(i),l.removeClass("hidden"),l.find("a").html('<i class="'+i+'"></i>')})}),r.on("click",".fieldpress-icon-modal-close",function(t){e("#fieldpress-icon-modal").addClass("hidden")}),r.on("click",".fieldpress-icon-clear",function(t){t.preventDefault();var i=e(this).closest(".fieldpress-field.fieldpress-icon"),a=i.find(".fieldpress-icon-preview");i.find("input").val(""),a.addClass("hidden")}),r.on("click",".fields-tabs > li > a",function(t){t.preventDefault();var i=e(this),a=i.attr("href").replace("#",""),r=i.closest(".fieldpress-tabs");i.parent("li").siblings("li").removeClass("active"),i.parent("li").addClass("active"),r.find(".fields-tabs-content").each(function(t,i){var r=e(this);r.attr("id")===a?(r.removeClass("hidden"),f(r)):r.addClass("hidden")})}),r.on("click",".fieldpress-main-tabs > li > a",function(t){t.preventDefault();var i=e(this),a=i.attr("href").replace("#",""),r=i.closest(".fieldpress-wrap"),s=r.find(".fieldpress-current-section");i.parent("li").siblings("li").removeClass("active"),i.parent("li").addClass("active"),s.val(a),r.find(".fieldpress-tabs-content-wrapper").each(function(t,i){var r=e(this);r.attr("id")===a?(r.removeClass("hidden"),f(r)):r.addClass("hidden")})}),"undefined"!=typeof google&&google&&google.maps&&d(),r.on("click",".fieldpress-add-repeater",function(t){t.preventDefault();var i=e(this),a=i.closest(".fieldpress-repeater"),r=a.children(".fieldpress-code-for-repeater"),s=a.children(".fieldpress-total-repeater"),l=parseInt(s.val()),n=r.html();s.val(l+1);var d=u(n,i.attr("id"),l);d=u(d,"fieldpress-tab-id","tab-"+l),d=u(d,"fieldpress-field-name","name"),i.before(e('<div class="repeater-table open" data-depth="0"></div>').append(d));var o=i.prev(".repeater-table");g(o)}),r.on("click",".fieldpress-repeater-top, .fieldpress-repeater-close",function(t){t.preventDefault();var i=e(this).closest(".repeater-table"),a=i.find(".fieldpress-repeater-inside:first");a.is(":hidden")?a.slideDown("fast",function(){i.addClass("open"),f(i)}):a.slideUp("fast",function(){i.removeClass("open")})}),r.on("click",".fieldpress-repeater-remove",function(t){t.preventDefault(),e(this).closest(".repeater-table").remove()}),r.on("click",".fieldpress-order-top, .fieldpress-order-close",function(t){if("checkbox"!==t.target.type){t.preventDefault();var i=e(this).closest(".order-table"),a=i.find(".fieldpress-order-inside:first");a.is(":hidden")?a.slideDown("fast",function(){i.addClass("open")}):a.slideUp("fast",function(){i.removeClass("open")})}}),r.on("click",".fieldpress-accordion-top, .fieldpress-accordion-close",function(t){if("checkbox"!==t.target.type){t.preventDefault();var i=e(this).closest(".accordion-table"),a=i.find(".fieldpress-accordion-inside:first");a.is(":hidden")?a.slideDown("fast",function(){i.addClass("open")}):a.slideUp("fast",function(){i.removeClass("open")})}}),r.on("click",".fields-devices > li > a",function(t){t.preventDefault();var i=e(this),a=i.attr("href").replace("#",""),r=i.closest(".fieldpress-box");i.parent("li").siblings("li").removeClass("active"),i.parent("li").addClass("active"),r.find(".fields-box-content").each(function(t,i){var r=e(this);r.attr("id")===a?r.removeClass("hidden"):r.addClass("hidden")})}),"widgets"!==t.pagenow&&g(s)},v=function(e){return e.closest(".fieldpress-code-for-repeater").length>0},g=function(t){t.find(".fieldpress-color-picker").each(function(){v(e(this))||function(t){if(t.data("rgba")&&1===t.data("rgba")){var i=n(t.val());t.wpColorPicker({clear:function(){t.trigger("keyup")},change:function(e,i){var a=i.color.toString();t.closest(".wp-picker-container").find(".fp-rgba-slider-offset").css("background-color",a),t.val(a).trigger("change")},create:function(){var a=t.data("a8cIris"),s=t.closest(".wp-picker-container"),l=e('<div class="fp-rgba-wrap"><div class="fp-rgba-slider"></div><div class="fp-rgba-slider-offset"></div><div class="fp-rgba-text"></div></div>').appendTo(s.find(".wp-picker-holder")),d=l.find(".fp-rgba-slider"),o=l.find(".fp-rgba-text"),f=l.find(".fp-rgba-slider-offset");d.slider({slide:function(e,i){var r=parseFloat(i.value/100);a._color._alpha=r,t.wpColorPicker("color",a._color.toString()),o.text(r<1?r:"")},create:function(){var e=parseFloat(i.alpha/100),p=e<1?e:"";o.text(p),f.css("background-color",i.value),s.on("click",".wp-picker-clear",function(){a._color._alpha=1,o.text("").trigger("change"),d.slider("option","value",100).trigger("slide")}),s.on("click",".wp-picker-default",function(){var e=n(t.data("default-color")),i=parseFloat(e.alpha/100),r=i<1?i:"";a._color._alpha=i,o.text(r),d.slider("option","value",e.alpha).trigger("slide")}),s.on("click",".wp-color-result",function(){l.toggle()}),r.on("click.wpcolorpicker",function(){l.hide()})},value:i.alpha,step:1,min:1,max:100})}})}else t.wpColorPicker({change:_.throttle(function(){t.trigger("change")},3e3),clear:_.throttle(function(){t.trigger("change")},4e3)})}(e(this))}),t.find(".fieldpress-date-picker").each(function(){var t;v(e(this))||((t=e(this)).data("fieldpress-time")&&t.data("time-only")?t.timepicker({timeFormat:t.data("time-format")}):t.data("fieldpress-time")?t.datetimepicker({timeFormat:t.data("time-format"),dateFormat:t.data("date-format")}):t.datepicker({showButtonPanel:!0,dateFormat:t.data("date-format")}))}),t.find(".fieldpress-select2").each(function(){v(e(this))||e(this).select2({width:"resolve"})}),t.find(".fieldpress-wysiwyg").each(function(){v(e(this))||f(e(this))}),e(".fieldpress-repeater").length>0&&c(),e(".fieldpress-sortable").length>0&&e(".fieldpress-sortable").each(function(){var t=e(this),i=t.find(".active-sortable"),a=t.find(".inactive-sortable");i.sortable({connectWith:a,placeholder:"ui-sortable-placeholder",update:function(e,t){var i=t.item,a=i.find("input");i.parent().hasClass("active-sortable")?a.attr("name",a.attr("name").replace("inactive","active")):a.attr("name",a.attr("name").replace("active","inactive"))}}),a.sortable({connectWith:i,placeholder:"ui-sortable-placeholder"})}),e(".fieldpress-order").length>0&&e(".fieldpress-order").sortable({placeholder:"ui-sortable-placeholder"})},m=e(".fieldpress-addons");function b(t){var i=t.data("relation"),a=t.data("condition"),r=t.data("controller"),s=t.data("conditional-value"),l=a.split("&fp&"),n=r.split("&fp&"),d=s.split("&fp&"),o={};for(let e=0;e<l.length;e++)o[e]={};for(let e=0;e<l.length;e++)o[e].condition=l[e];for(let e=0;e<n.length;e++)o[e].controller=n[e];for(let e=0;e<d.length;e++)o[e].conditional_value=d[e];var f=!1;return e.each(o,function(t,a){var r,s="checkbox"===(r=e("#"+a.controller)).attr("type")?r.is(":checked"):"radio"===r.attr("type")?e("input[name="+r.attr("name")+"]:checked").val():(e("input[name=name_of_your_radiobutton]:checked").val(),r.val()),l=function(e,t,i,a){var r;if("=="==e)r=t==i;else if("!="==e)r=t!=i;else if(">="==e)r=Number(t)>=Number(i);else if("<="==e)r=Number(t)<=Number(i);else if(">"==e)r=Number(t)>Number(i);else if("<"==e)r=Number(t)<Number(i);else if("empty"==e)r=0===t.length;else{if("!empty"!=e)throw r=!1,new Error("Undefined condition: "+e);r=0!==t.length}return r}(a.condition,s,a.conditional_value,e("#"+a.controller));if("OR"==i){if(l)return f=!0,!1}else{if(!l)return f=!1,!1;f=!0}}),f}function w(t){var i,a=t.attr("id");m.find(".fieldpress-dependent."+a).each(function(){b(i=e(this))?i.removeClass("fieldpress-hidden"):i.addClass("fieldpress-hidden"),function t(i){if(i.find(".fieldpress-controller").length&&i.hasClass("fieldpress-hidden")){var a,r=i.find(".fieldpress-controller").eq(0).attr("id");m.find(".fieldpress-dependent."+r).each(function(){(a=e(this)).addClass("fieldpress-hidden"),t(a)})}}(i)})}m.find(".fieldpress-controller").each(function(){w(e(this))}),l.on("load",function(){h(),r.on("widget-added widget-updated",function(e,t){g(t)}),e(function(){"widgets"===t.pagenow&&e(".widgets-holder-wrap:not(#available-widgets)").find("div.widget").one("click.toggle-widget-expanded",function(){var t=e(this);g(t)})}),r.on("click",".fieldpress-actions .action",function(t){e(this).closest("form");o()}),r.on("click","#submitpost :submit",function(t){e(this).closest("form");o()}),r.on("click",".widget-control-actions .widget-control-save",function(t){e(this).closest("form");o()}),r.on("keyup change",".fieldpress-controller",function(t){w(e(this))}),r.on("click","#fieldpress-reset",function(e){return 1==confirm(fieldpress.reset_confirm)||(e.preventDefault(),!1)})})}(jQuery,window,document);